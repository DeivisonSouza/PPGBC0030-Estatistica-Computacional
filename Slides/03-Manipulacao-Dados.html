<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Estatística Computacional com R (PPGBC0030)</title>
    <meta charset="utf-8" />
    <meta name="author" content="Prof. Dr. Deivison Venicio Souza" />
    <script src="03-Manipulacao-Dados_files/header-attrs-2.24/header-attrs.js"></script>
    <link href="03-Manipulacao-Dados_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/fabric-4.3.1/fabric.min.js"></script>
    <link href="03-Manipulacao-Dados_files/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="03-Manipulacao-Dados_files/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="03-Manipulacao-Dados_files/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/shareon-1.4.1/shareon.min.js"></script>
    <link href="03-Manipulacao-Dados_files/xaringanExtra-shareagain-0.2.6/shareagain.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/xaringanExtra-shareagain-0.2.6/shareagain.js"></script>
    <script src="03-Manipulacao-Dados_files/xaringanExtra-progressBar-0.0.1/progress-bar.js"></script>
    <link href="03-Manipulacao-Dados_files/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"x52458af1c5846f585569ad3b230f961","expires":1}</script>
    <script src="03-Manipulacao-Dados_files/himalaya-1.1.0/himalaya.js"></script>
    <script src="03-Manipulacao-Dados_files/js-cookie-3.0.0/js.cookie.js"></script>
    <link href="03-Manipulacao-Dados_files/editable-0.2.6/editable.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/editable-0.2.6/editable.js"></script>
    <link href="03-Manipulacao-Dados_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="03-Manipulacao-Dados_files/font-awesome-animation-1.0/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/fontawesome-5.0.13/js/fontawesome-all.min.js"></script>
    <script src="03-Manipulacao-Dados_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="03-Manipulacao-Dados_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/datatables-binding-0.29/datatables.js"></script>
    <script src="03-Manipulacao-Dados_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="03-Manipulacao-Dados_files/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="03-Manipulacao-Dados_files/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="03-Manipulacao-Dados_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="03-Manipulacao-Dados_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } },
      });
    </script>
    <style>
    .mjx-mrow a {
      color: black;
      pointer-events: none;
      cursor: default;
    }
    </style>
    <link rel="stylesheet" href="assets/sydney-fonts.css" type="text/css" />
    <link rel="stylesheet" href="assets/slide-title/sydney-title.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: title-slide, center, middle
background-image: url(fig/slide-title/LMFTCA.png), url(fig/slide-title/PPGBC2.png), url(fig/slide-title/capa.png)
background-position: 90% 90%, 10% 90%
background-size: 150px, 300px, cover



&lt;style type="text/css"&gt;
.with-logo::before {
	content: '';
	width: 120px;
	height: 120px;
	position: absolute;
	bottom: 1.3em;
	right: -0.5em;
	background-size: contain;
	background-repeat: no-repeat;
}

.logo-ufpa::before {
	background-image: url(fig/slide-title/ufpa.png);
}

.logo-dplyr::before {
	background-image: url(https://github.com/rstudio/hex-stickers/raw/master/PNG/dplyr.png);
}

.logo-purrr::before {
	background-image: url(https://github.com/rstudio/hex-stickers/raw/master/PNG/purrr.png);
}

.logo-plumber::before {
	background-image: url(https://github.com/rstudio/hex-stickers/raw/master/PNG/plumber.png);
}
&lt;/style&gt;




<div>
<style type="text/css">.xaringan-extra-logo {
width: 130px;
height: 130px;
z-index: 0;
background-image: url(fig/slide-title/LMFTCA.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:.5em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('div')
          logo.classList = 'xaringan-extra-logo'
          logo.href = null
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div><style>.xe__progress-bar__container {
  top:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 0.25em;
  background-color: red;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>






&lt;!-- title-slide --&gt;
# .font120[Estatística Computacional com R&lt;br&gt; (PPGBC0030)]

## <span>&lt;i class="fab  fa-pagelines faa-horizontal animated " style=" color:green;"&gt;&lt;/i&gt;</span> Introdução ao Tidyverse: .orange[dplyr]<span>&lt;i class="fab  fa-pagelines faa-horizontal animated " style=" color:green;"&gt;&lt;/i&gt;</span>
&lt;br&gt;

#### **Prof. Dr. Deivison Venicio Souza**
##### Universidade Federal do Pará (UFPA) 
##### Faculdade de Engenharia Florestal
##### E-mail: deivisonvs@ufpa.br
&lt;br&gt;
##### 1ª versão: 04/novembro/2022 &lt;br&gt; (Atualizado em: 26/agosto/2024)

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Objetivos
&lt;br&gt;
Esta aula (.blue[Introdução ao Tidyverse: dplyr]) constitui a segunda parte do módulo 2 destinado ao aprendizado de alguns pacotes da coleção Tidyverse. Ao final desta aula espera-se que os participantes possam alcançar conhecimentos para...
&lt;br&gt;&lt;br&gt;

* Manipular dados no R usando funções do pacote **dplyr**.
&lt;br&gt;&lt;br&gt;

.pull-left-7[
&lt;img src="https://tidyverse.tidyverse.org/articles/tidyverse-logo.png" width="70%" style="display: block; margin: auto;" /&gt;
]

.pull-left-7[
&lt;img src="https://dplyr.tidyverse.org/logo.png" width="70%" style="display: block; margin: auto;" /&gt;
]

---

## Conteúdo

.pull-left-10[
.font90[
**Parte 3 - Manipulação de dados com .orange[dplyr]**

[1 - Função select() e suas auxiliares](#select)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.1 - Função starts_with()](#startwith)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.2 - Função ends_with()](#endswith)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.3 - Função contains()](#contains)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.4 - Função matches()](#matches)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.5 - Função everything()](#everything)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[1.6 - Função where()](#where)

[2 - Função arrange()](#arrange)

[3 - Função filter()](#filter)

]
]

.pull-right-10[
.font90[

[4 - Função mutate() e suas auxiliares](#mutate)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[4.1 - Função if_else()](#ifelse)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[4.2 - Função case_when()](#casewhen)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[4.3 - Função across()](#acrossmut)

[5 - Função summarise()](#summarise)

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[5.1 - Função across()](#across)

[6 - Função group_by()](#groupby)
]
]

---

layout: false
name: conc
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;img src="https://dplyr.tidyverse.org/logo.png" width="10%" style="display: block; margin: auto;" /&gt;

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### Sobre o pacote .orange[**dplyr**]...

.font90[
- Um dos principais pacotes do .orange[tidyverse].
- O pacote .orange[**dplyr**] é essencialmente um conjunto consistente de funções projetadas para resolver os desafios mais comuns de **manipulação de dados**.
- Foi projetado para ser simples, intuitivo, amigável e elegante.
- O encadeamento de comandos é facilitado pelo emprego do operador **%&gt;%** (pipe).
- Códigos em R que fazem uso dos verbos .orange[**dplyr**] são mais elegantes, compeeensíveis e intuitivos.
- **Cheatsheet do RStudio** (folhas de resumo): Help `\(\rightarrow\)` Cheatsheets `\(\rightarrow\)` Data Transformation with dplyr
- No site da RStudio pode-se encontrar algumas Cheatsheet traduzidas: [cheatsheets-translations](https://www.rstudio.com/resources/cheatsheets/#translations)
]

&lt;img src="https://dplyr.tidyverse.org/logo.png" width="10%" style="display: block; margin: auto;" /&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### Verbos .orange[**dplyr**]

.pull-left-4[
- O .orange[**dplyr**] possui diversos verbos (funções). A seguir são listadas algumas das mais usuais:

.center[
mutate()

select()

filter()

arrange()

summarise()

group_by()

]
]

.pull-right-4[
Lista de funções do pacote .orange[**dplyr**]:


```r
ls("package:dplyr")
#length(ls("package:dplyr"))
#lsf.str("package:dplyr")
```

Ou simplesmente digite .green[`dplyr::`].

Atualmente são 297 funções projetadas para manipulação de dados.

]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### Uma pequena amostra para praticar...

.font90[
.pull-left-9[


```r
data &lt;- readr::read_csv("data/data.csv")

data %&gt;% CustomDT # Apenas para customizar a tabela
```

.font90[
Para aprender a intuição de algumas funções .orange[**dplyr**] usaremos uma pequena amostra de dados de IF100%.
&lt;br&gt;&lt;br&gt;

**A base completa pode ser acessada em**: [IF100%](https://deivisonsouza.github.io/FL03034-EF/Slides/data/UPA07DVS.csv)
]
]
]

.pull-right-9[
<div id="htmlwidget-267716bdf99ca043bb66" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-267716bdf99ca043bb66">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

---

layout: false
name: select
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;&lt;br&gt;

.center[.font200[**Função .brown[select()]**]]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-af853fcc4b3c17be0ff2" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-af853fcc4b3c17be0ff2">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.blue[**Seleção de uma coluna...**]
&lt;br&gt;&lt;br&gt;
.font80[
**Alternativa 1**:

```r
select(data, Nome_Especie)
```

**Alternativa 2**

```r
data %&gt;%
  select(Nome_Especie)
```
]


]

.pull-right-11[
<div id="htmlwidget-c2bdcb1740c356b78df6" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-c2bdcb1740c356b78df6">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-1dac887c0d89dd100c54" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-1dac887c0d89dd100c54">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Seleção de várias coluna...**]
&lt;br&gt;&lt;br&gt;

**Alternativa 1** (sem %&gt;%)

```r
select(
  data, CAP, HC, QF
  )
```

**Alternativa 2** (com %&gt;%)

```r
data %&gt;%
  select(CAP, HC, QF)
```

**Alternativa 3** (%&gt;% + :)

```r
data %&gt;%
  select(CAP:QF)
```

]


]

.pull-right-11[
<div id="htmlwidget-2e207e225c25cab26925" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-2e207e225c25cab26925">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,1,2],"date":[]},"data":[[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: startwith
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-711fb005a795139b0aab" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-711fb005a795139b0aab">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**starts_with()**]
&lt;br&gt;

.font80[
Função usada para selecionar colunas cujos nomes .green[iniciam] com um texto padrão.
]


```r
select(
  data, starts_with("N")
  )
```

]


]

.pull-right-11[
<div id="htmlwidget-76773a6cf2edbbd25fd7" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-76773a6cf2edbbd25fd7">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":0}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]


---
name: endswith
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-c55604601f729f7672cb" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-c55604601f729f7672cb">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**ends_with()**]
&lt;br&gt;

.font80[
Função usada para selecionar colunas cujos nomes .green[terminam] com um texto padrão.
]


```r
select(
  data, ends_with("e")
  )
```

]


]

.pull-right-11[
<div id="htmlwidget-a5a6aadc23e6be87e0c0" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-a5a6aadc23e6be87e0c0">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":0}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: contains
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-ecd01f4ea307687e18c6" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-ecd01f4ea307687e18c6">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**contains()**]
&lt;br&gt;

.font80[
Função usada para selecionar colunas cujos nomes tenham algum texto padrão.
]


```r
select(
  data, contains("e")
  )
```

]


]

.pull-right-11[
<div id="htmlwidget-2d142d8b9b1f0b6e114b" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-2d142d8b9b1f0b6e114b">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":0}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: matches
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-e48854ba7bd9e22e179a" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-e48854ba7bd9e22e179a">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**matches()**]
&lt;br&gt;

.font80[
Função usada para selecionar colunas que contenham nomes correspondentes à alguma expressão regular.
]


```r
select(
  data, matches('No|cao|F')
  )
```

]


]

.pull-right-11[
<div id="htmlwidget-732f0ebd7f194494eaa4" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-732f0ebd7f194494eaa4">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: everything
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-2c917470d8a76fa08642" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-2c917470d8a76fa08642">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-5[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**everything()**]
&lt;br&gt;

.font80[
Seleciona todas as variáveis. É útil para reordenar algumas colunas, sem se importar com a ordem das demais.
]


```r
data %&gt;%
  select(
    Nome_Especie,
    Selecao,
    everything())
```

]


]

.pull-right-5[
<div id="htmlwidget-ada78a34548e64d204d7" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-ada78a34548e64d204d7">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[2,3,4,5],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"],[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>Selecao<\/th>\n      <th>N_Arvore<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[2,3,4,5]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: where
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-d55884bd9b9f9f4cf9da" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d55884bd9b9f9f4cf9da">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-10[
.font80[
.blue[**Usando funções auxiliares...**]
&lt;br&gt;&lt;br&gt;

.green[**where()**]
&lt;br&gt;

.font80[
Aplica uma função à todas as variáveis e seleciona aquelas para as quais a resposta é TRUE.
]


```r
data %&gt;%
  select(where(is.character))
```

]


]

.pull-right-10[
<div id="htmlwidget-70bbc7481dc0e8cef480" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-70bbc7481dc0e8cef480">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-1c066e667e35c898d8e5" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-1c066e667e35c898d8e5">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Combinando funções auxiliares e operadores lógicos...**]
&lt;br&gt;&lt;br&gt;


```r
data %&gt;%
  select(
    starts_with("N") &amp;
      !ends_with("Arvore"))
```


<span>&lt;i class="fas  fa-hand-point-down faa-vertical animated "&gt;&lt;/i&gt;</span> **Experimente o comando**
&lt;br&gt;


```r
data %&gt;%
  select(
    starts_with("N") |
      ends_with("Arvore"))
```

]


]

.pull-right-11[
<div id="htmlwidget-d0419ef23dc2c4491880" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d0419ef23dc2c4491880">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-b15e8196e5d44eccb2a5" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-b15e8196e5d44eccb2a5">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-11[
.font80[
.blue[**Função concatenate**]
&lt;br&gt;&lt;br&gt;


```r
data %&gt;%
  select(-c(CAP:Selecao))
```


<span>&lt;i class="fas  fa-hand-point-down faa-vertical animated "&gt;&lt;/i&gt;</span> **Experimente o comando**
&lt;br&gt;


```r
data %&gt;%
  select(!(CAP:Selecao))
```

]


]

.pull-right-11[
<div id="htmlwidget-4d96d115ae61a575649a" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-4d96d115ae61a575649a">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":0}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **select()** - .black[selecionar colunas]]

.pull-left-10[
<div id="htmlwidget-91e0129a765f46fd6f2c" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-91e0129a765f46fd6f2c">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-1[
.font80[
.blue[**Reordenar colunas**]
&lt;br&gt;&lt;br&gt;


```r
data %&gt;%
  select(Nome_Especie,
         Selecao, CAP,
         QF, HC)
```

]


]

.pull-right-2[
<div id="htmlwidget-38e14220f7f4d440002a" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-38e14220f7f4d440002a">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[2,3,4],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"],[186,157,178,540,190,700,200,162,210,600,161,240],[1,2,1,1,1,3,1,1,1,2,1,1],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>Selecao<\/th>\n      <th>CAP<\/th>\n      <th>QF<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

layout: false
name: arrange
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;&lt;br&gt;

.center[.font200[**Função .brown[arrange()]**]]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **arrange()** - .black[Ordenar linhas]]

.pull-left-10[
<div id="htmlwidget-d9d0db1c0e736507eeb2" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d9d0db1c0e736507eeb2">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-12[
.font80[
**Ordem crescente de uma variável**


```r
data %&gt;%
  arrange(HC)
```

]


]

.pull-right-12[
<div id="htmlwidget-439e3d5c32a9d05bca39" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-439e3d5c32a9d05bca39">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[256,1329,258,63,494,18,558,1878,1248,2890,2672,1548],["Acapu","Acapu","Acapu","Angelim vermelho","Maparajuba","Angelim vermelho","Tauari","Maparajuba","Tauari","Maparajuba","Tauari","Angelim vermelho"],[157,178,186,190,210,540,161,162,600,200,240,700],[10,12,13,14,14,15,16,17,17,18,18,19],[2,1,1,1,1,1,1,1,2,1,1,3],["Remanescente","Remanescente","Remanescente","Remanescente","Explorar","Explorar","Remanescente","Remanescente","Explorar","Explorar","Explorar","Remanescente"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **arrange()** - .black[Ordenar linhas]]

.pull-left-10[
<div id="htmlwidget-108514a5e343dfe403c1" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-108514a5e343dfe403c1">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-12[
.font80[
**Ordem decrescente de uma variável**


```r
data %&gt;%
  arrange(
    desc(HC)
    )
```

]


]

.pull-right-12[
<div id="htmlwidget-a61fd4c0b011c946fa96" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-a61fd4c0b011c946fa96">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[1548,2890,2672,1878,1248,558,18,63,494,258,1329,256],["Angelim vermelho","Maparajuba","Tauari","Maparajuba","Tauari","Tauari","Angelim vermelho","Angelim vermelho","Maparajuba","Acapu","Acapu","Acapu"],[700,200,240,162,600,161,540,190,210,186,178,157],[19,18,18,17,17,16,15,14,14,13,12,10],[3,1,1,1,2,1,1,1,1,1,1,2],["Remanescente","Explorar","Explorar","Remanescente","Explorar","Remanescente","Explorar","Remanescente","Explorar","Remanescente","Remanescente","Remanescente"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **arrange()** - .black[Ordenar linhas]]

.pull-left-10[
<div id="htmlwidget-a80d3e8ee0f12915bdc7" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-a80d3e8ee0f12915bdc7">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-left-12[
.font80[
**Ordenar em função de duas ou mais variáveis**


```r
data %&gt;%
  arrange(
    CAP, HC
    )
```

]


]

.pull-right-12[
<div id="htmlwidget-8b1bc43bd425a9291c5d" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-8b1bc43bd425a9291c5d">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[256,558,1878,1329,258,63,2890,494,2672,18,1248,1548],["Acapu","Tauari","Maparajuba","Acapu","Acapu","Angelim vermelho","Maparajuba","Maparajuba","Tauari","Angelim vermelho","Tauari","Angelim vermelho"],[157,161,162,178,186,190,200,210,240,540,600,700],[10,16,17,12,13,14,18,14,18,15,17,19],[2,1,1,1,1,1,1,1,1,1,2,3],["Remanescente","Remanescente","Remanescente","Remanescente","Remanescente","Remanescente","Explorar","Explorar","Explorar","Explorar","Explorar","Remanescente"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

layout: false
name: filter
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;&lt;br&gt;

.center[.font200[**Função .brown[filter()]**]]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **filter()** - .black[Filtrar linhas]]

.pull-left-10[
<div id="htmlwidget-10275c0ebf20b288e526" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-10275c0ebf20b288e526">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**Filtrar linhas em função de alguma variável**


```r
data %&gt;%
  filter(HC &gt; 15)
```

]


]

.pull-bottom[
<div id="htmlwidget-57ce9da0397097a480ed" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-57ce9da0397097a480ed">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[1548,2890,1878,1248,558,2672],["Angelim vermelho","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[700,200,162,600,161,240],[19,18,17,17,16,18],[3,1,1,2,1,1],["Remanescente","Explorar","Remanescente","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **filter()** - .black[Filtrar linhas]]

.pull-left-10[
<div id="htmlwidget-912c6b4b6ee37ce581bf" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-912c6b4b6ee37ce581bf">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**Filtrar linhas para algum intervalo da variável**


```r
data %&gt;%
  filter(HC &gt; 10 &amp; HC &lt;= 15)
```

]


]

.pull-bottom[
<div id="htmlwidget-46dcfa52be89a20b69c2" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-46dcfa52be89a20b69c2">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,1329,18,63,494],["Acapu","Acapu","Angelim vermelho","Angelim vermelho","Maparajuba"],[186,178,540,190,210],[13,12,15,14,14],[1,1,1,1,1],["Remanescente","Remanescente","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **filter()** - .black[Filtrar linhas]]

.pull-left-10[
<div id="htmlwidget-0b902a2a4e3e2f08bb30" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-0b902a2a4e3e2f08bb30">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**Filtrar linhas em função de duas ou mais variáveis**


```r
data %&gt;%
  filter(HC &gt; 10, Selecao == "Explorar")
```

]


]

.pull-bottom[
<div id="htmlwidget-21abc04116198a03dc46" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-21abc04116198a03dc46">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[18,2890,494,1248,2672],["Angelim vermelho","Maparajuba","Maparajuba","Tauari","Tauari"],[540,200,210,600,240],[15,18,14,17,18],[1,1,1,2,1],["Explorar","Explorar","Explorar","Explorar","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **filter()** - .black[Filtrar linhas]]

.pull-left-10[
<div id="htmlwidget-d5926b94cd0aa44cb668" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d5926b94cd0aa44cb668">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**Filtrar linhas usando operador .green[%in%]** - Variáveis categóricas



```r
data %&gt;%
  filter(Nome_Especie %in% c('Acapu', 'Tauari'))
```

]


]

.pull-bottom[
<div id="htmlwidget-9dcfa815753790e6940a" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-9dcfa815753790e6940a">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,1248,558,2672],["Acapu","Acapu","Acapu","Tauari","Tauari","Tauari"],[186,157,178,600,161,240],[13,10,12,17,16,18],[1,2,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **filter()** - .black[Filtrar linhas]]

.pull-left-10[
<div id="htmlwidget-fcb3745622583f54b129" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-fcb3745622583f54b129">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**Filtrar linhas com várias condições**



```r
data %&gt;%
  filter(Nome_Especie %in% c('Acapu', 'Tauari'),
         HC &gt;= 12, QF == 1)
```

]


]

.pull-bottom[
<div id="htmlwidget-bbd63f085de523c96587" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-bbd63f085de523c96587">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,1329,558,2672],["Acapu","Acapu","Tauari","Tauari"],[186,178,161,240],[13,12,16,18],[1,1,1,1],["Remanescente","Remanescente","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

---

layout: false
name: mutate
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;

.center[.font200[**Função .brown[mutate()]**]]

.center[Criar (ou modificar) variáveis e manter as existentes.]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-884db364d44210b097fd" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-884db364d44210b097fd">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-1[
.font80[
**Criar uma nova variável e adicioná-la à tabela**


```r
data %&gt;%
  mutate(DAP = CAP/pi)
```
&lt;br&gt;&lt;br&gt;

<span>&lt;i class="fas  fa-hand-point-down faa-vertical animated "&gt;&lt;/i&gt;</span> **Experimente o comando**

```r
data %&gt;%
  mutate(DAP = round(CAP/pi, 2))
```

]


]

.pull-right-2[
<div id="htmlwidget-d70e4c0f7c90017942ae" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d70e4c0f7c90017942ae">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2,3],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[59.20563883018507,49.97465213085514,56.65915974071474,171.887338539247,60.47887837492023,222.8169203286535,63.66197723675813,51.56620156177409,66.84507609859604,190.9859317102744,51.2478916755903,76.39437268410977]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>DAP<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2,3]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-b09c4a29f7ae8fe332be" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-b09c4a29f7ae8fe332be">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-1[
.font80[
**Modificar uma variável na tabela**


```r
data %&gt;%
  mutate(CAP = CAP/100)
```
&lt;br&gt;&lt;br&gt;

<span>&lt;i class="fas  fa-hand-point-down faa-vertical animated "&gt;&lt;/i&gt;</span> **Experimente o comando**

```r
data %&gt;%
  mutate(CAP = round(CAP/100, 2))
```

]


]

.pull-right-2[
<div id="htmlwidget-d0a0c0edffab8262cc28" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d0a0c0edffab8262cc28">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[1.86,1.57,1.78,5.4,1.9,7,2,1.62,2.1,6,1.61,2.4],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-ec241c4dcf5e379314d1" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-ec241c4dcf5e379314d1">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-1[
.font80[
**Modificar/criar múltiplas variáveis no mesmo mutate()**


```r
data %&gt;%
  mutate(DAP = CAP/pi,
         CAP = CAP/100,
         gi = (DAP^2*pi)/40000))
```
&lt;br&gt;&lt;br&gt;

<span>&lt;i class="fas  fa-hand-point-down faa-vertical animated "&gt;&lt;/i&gt;</span> **Experimente o comando**

```r
data %&gt;%
  mutate(DAP = CAP/pi,
         CAP = CAP/100,
         gi = (DAP^2*pi)/40000,
         vi = gi*HC*0.7)
```

]


]

.pull-right-2[
<div id="htmlwidget-91644041dfed9784c188" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-91644041dfed9784c188">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2,3,4],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[1.86,1.57,1.78,5.4,1.9,7,2,1.62,2.1,6,1.61,2.4],[13,10,12,15,14,19,18,17,14,17,16,18],[59.20563883018507,49.97465213085514,56.65915974071474,171.887338539247,60.47887837492023,222.8169203286535,63.66197723675813,51.56620156177409,66.84507609859604,190.9859317102744,51.2478916755903,76.39437268410977],[0.2753062205603605,0.1961505096136065,0.2521332608461806,2.320479070279834,0.2872746722808711,3.899296105751436,0.3183098861837906,0.2088431163251851,0.3509366495176292,2.864788975654116,0.206272763994251,0.4583662361046587]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>DAP<\/th>\n      <th>gi<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: ifelse
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-7295412734d7a0dae1ec" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-7295412734d7a0dae1ec">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-11[
.font80[
**.blue[Usando funções auxiliares...]**
&lt;br&gt;&lt;br&gt;

**.green[if_else()]**
&lt;br&gt;


```r
data %&gt;%
  mutate(Selecao = if_else(
    CAP &gt;= 600, "Matriz", "Não Matriz"
    ))
```

]


]

.pull-right-11[
<div id="htmlwidget-8fec2fd6590cc57320f3" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-8fec2fd6590cc57320f3">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],["Não Matriz","Não Matriz","Não Matriz","Não Matriz","Não Matriz","Matriz","Não Matriz","Não Matriz","Não Matriz","Matriz","Não Matriz","Não Matriz"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]


---
name: casewhen
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-33fe200757786613c0a7" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-33fe200757786613c0a7">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-2[
.font80[
**.blue[Usando funções auxiliares...]**
&lt;br&gt;&lt;br&gt;

**.green[case_when()]**
&lt;br&gt;

Permite vetorizar várias instruções .green[if_else()]. É um equivalente R da instrução SQL CASE WHEN.

Criar uma nova coluna por múltiplas condições mutuamente exclusivas.


```r
data %&gt;%
  mutate(
    Selecao =
      case_when(
        (CAP &gt;= 600) ~ "Matriz",
        (Nome_Especie == "Acapu") ~ "Protegida",
        (CAP &gt;= 158 &amp; Nome_Especie != "Acapu") ~ "Explorar",
    ))
```

]


]

.pull-right-1[
<div id="htmlwidget-961a964d9e87bad438b2" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-961a964d9e87bad438b2">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],["Protegida","Protegida","Protegida","Explorar","Explorar","Matriz","Explorar","Explorar","Explorar","Matriz","Explorar","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---
name: acrossmut
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **mutate()** - .black[Modificar e criar variáveis]]

.pull-left-12[
<div id="htmlwidget-c76292d5ab966408180b" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-c76292d5ab966408180b">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-12[
.pull-left-2[
.font80[
**.blue[Usando funções auxiliares...]**
&lt;br&gt;&lt;br&gt;

**.green[across()]**
&lt;br&gt;

Auxiliar a aplicar uma operação (função) em várias colunas.


```r
data %&gt;%
  mutate(across(.cols = where(is.numeric),
                .fns = format,
                scientific = T
                )
         )
```

]


]

.pull-right-1[
<div id="htmlwidget-bc5eac2b1b5055516fb3" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-bc5eac2b1b5055516fb3">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[],"date":[]},"data":[["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],["1.86e+02","1.57e+02","1.78e+02","5.40e+02","1.90e+02","7.00e+02","2.00e+02","1.62e+02","2.10e+02","6.00e+02","1.61e+02","2.40e+02"],["1.3e+01","1.0e+01","1.2e+01","1.5e+01","1.4e+01","1.9e+01","1.8e+01","1.7e+01","1.4e+01","1.7e+01","1.6e+01","1.8e+01"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]

---

layout: false
name: summarise
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;

.center[.font200[**Função .brown[summarise()]**]]

.center[Criar um novo quadro de dados com estatísticas &lt;br&gt; resumo de variáveis selecionadas.]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **summarise()** - .black[Sumarizar dados]]

.pull-left-10[
<div id="htmlwidget-81695d169683e2c63035" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-81695d169683e2c63035">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Uma única estatística de sumarização...]**


```r
data %&gt;%
  summarise(media_HC = mean(HC, na.rm = TRUE))
```



<div id="htmlwidget-05bd83b1a11303e228a9" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-05bd83b1a11303e228a9">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0],"date":[]},"data":[[15.25]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>media_HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":0}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]

.pull-bottom[
.font80[
**.blue[Várias estatísticas na mesma summarise()...]**

```r
data %&gt;%
  summarise(media_HC = mean(HC, na.rm = TRUE),
            sd_HC = mean(HC, na.rm = TRUE),
            min_HC = min(HC, na.rm = TRUE),
            max_HC = max(HC, na.rm = TRUE))
```



<div id="htmlwidget-724579d1894fd18d81a7" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-724579d1894fd18d81a7">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,1,2,3],"date":[]},"data":[[15.25],[15.25],[10],[19]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>media_HC<\/th>\n      <th>sd_HC<\/th>\n      <th>min_HC<\/th>\n      <th>max_HC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1,2,3]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **summarise()** - .black[Sumarizar dados]]

.pull-left-10[
<div id="htmlwidget-356d8b798368acc35030" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-356d8b798368acc35030">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Sumarizando diversas variáveis...]**


```r
data %&gt;%
  summarise(media_HC = mean(HC, na.rm = TRUE),
            sd_HC = sd(HC, na.rm = TRUE),
            media_CAP = mean(CAP, na.rm = TRUE),
            sd_CAP = sd(CAP, na.rm = TRUE))
```



<div id="htmlwidget-d4e12c236a436fdd8dbc" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d4e12c236a436fdd8dbc">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,1,2,3],"date":[]},"data":[[15.25],[2.734460225944551],[293.6666666666667],[197.1645982114405]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>media_HC<\/th>\n      <th>sd_HC<\/th>\n      <th>media_CAP<\/th>\n      <th>sd_CAP<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1,2,3]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]
]

---
name: across
## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **summarise()** - .black[Sumarizar dados]]

.pull-left-10[
<div id="htmlwidget-9d87170c589773e56cd2" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-9d87170c589773e56cd2">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Sumarizando diversas variáveis...]**
&lt;br&gt;&lt;br&gt;

.green[**across()**] - Múltiplas colunas e uma função
&lt;br&gt;

.font70[
Aplicar uma função (ou funções) em várias colunas.

A função .green[across()] substitui a família de verbos **summarise** com sufixos:.green[_if, _at, _all].
]


```r
data %&gt;%
  summarise(across(
    .cols = c(HC, CAP),
    .fns = mean,
    na.rm = TRUE,
    .names = "mean_{.col}"
  ))
```



<div id="htmlwidget-d6b403bc98f95d2cb889" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-d6b403bc98f95d2cb889">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,1],"date":[]},"data":[[15.25],[293.6666666666667]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>mean_HC<\/th>\n      <th>mean_CAP<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **summarise()** - .black[Sumarizar dados]]

.pull-left-10[
<div id="htmlwidget-9a2557af439bda26df4f" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-9a2557af439bda26df4f">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Sumarizando diversas variáveis...]**
&lt;br&gt;&lt;br&gt;

.green[**across()**] - Múltiplas colunas e funções
&lt;br&gt;


```r
data %&gt;%
  summarise(across(.cols = c(HC, CAP),
                   .fns = list(media=mean, desv=sd),
                   na.rm = TRUE,
                   .names = "{.col}.{.fn}"
                   )
            )
```



<div id="htmlwidget-a527e93a29105cf1703f" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-a527e93a29105cf1703f">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,1,2,3],"date":[]},"data":[[15.25],[2.734460225944551],[293.6666666666667],[197.1645982114405]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>HC.media<\/th>\n      <th>HC.desv<\/th>\n      <th>CAP.media<\/th>\n      <th>CAP.desv<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,1,2,3]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]
]

---

layout: false
name: groupby
class: inverse, top, right
background-image: url(fig/slide-title/secao.png)
background-size: cover

&lt;br&gt;&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Módulo 2] &lt;br&gt; Introdução ao Tidyverse**]]

&lt;br&gt;&lt;br&gt;

.right[.font150[**.green[Parte 2] - Manipulação de dados: &lt;br&gt; Pacote .orange[dplyr]**]]

&lt;br&gt;

.center[.font200[**Função .brown[group_by()]**]]

.center[Agrupar uma (ou mais) variáveis para aplicar &lt;br&gt; operações (funções) a cada grupo/categoria]

---

layout: true
class: with-logo logo-ufpa
&lt;div class="my-header"&gt;&lt;/div&gt;
&lt;div class="my-footer"&gt;&lt;span&gt;Prof. Dr. Deivison Venicio Souza (E-mail: deivisonvs@ufpa.br)&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp; &lt;div3&gt;Estatística Computacional (PPGBC0030)&lt;/div3&gt;/ &lt;div2&gt;Módulo 2 - Introdução ao Tidyverse&lt;/div2&gt; &lt;/div&gt;

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **group_by()** - .black[Agrupar]]

.pull-left-10[
<div id="htmlwidget-285ff48da4b429ddd308" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-285ff48da4b429ddd308">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Agrupando e aplicando uma função...]**
&lt;br&gt;&lt;br&gt;

.green[**Contagem por grupo**] - Uma variável


```r
data %&gt;%
  group_by(Nome_Especie) %&gt;%
  summarise(n = n())
```



<div id="htmlwidget-eb856b26a8cdcce83a03" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-eb856b26a8cdcce83a03">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1],"date":[]},"data":[["Acapu","Angelim vermelho","Maparajuba","Tauari"],[3,3,3,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":1}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>

]
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **group_by()** - .black[Agrupar]]

.pull-left-10[
<div id="htmlwidget-96eb85a483f212a30e76" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-96eb85a483f212a30e76">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Agrupando e aplicando uma função...]**
&lt;br&gt;&lt;br&gt;

.green[**Contagem por grupo**] - Múltiplas variáveis


```r
data %&gt;%
  group_by(Nome_Especie, Selecao) %&gt;%
  summarise(n = n())
```



<div id="htmlwidget-ba31d08479b1a2a9c71b" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-ba31d08479b1a2a9c71b">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[2],"date":[]},"data":[["Acapu","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Tauari","Tauari"],["Remanescente","Explorar","Remanescente","Explorar","Remanescente","Explorar","Remanescente"],[3,1,2,2,1,2,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>Selecao<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":2}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]
]

---

## Manipulação de dados com .orange[dplyr]
&lt;br&gt;

### .font90[Função **group_by()** - .black[Agrupar]]

.pull-left-10[
<div id="htmlwidget-9ac444b426d6d6c4b7aa" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-9ac444b426d6d6c4b7aa">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[0,2,3,4],"date":[]},"data":[[258,256,1329,18,63,1548,2890,1878,494,1248,558,2672],["Acapu","Acapu","Acapu","Angelim vermelho","Angelim vermelho","Angelim vermelho","Maparajuba","Maparajuba","Maparajuba","Tauari","Tauari","Tauari"],[186,157,178,540,190,700,200,162,210,600,161,240],[13,10,12,15,14,19,18,17,14,17,16,18],[1,2,1,1,1,3,1,1,1,2,1,1],["Remanescente","Remanescente","Remanescente","Explorar","Remanescente","Remanescente","Explorar","Remanescente","Explorar","Explorar","Remanescente","Explorar"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>N_Arvore<\/th>\n      <th>Nome_Especie<\/th>\n      <th>CAP<\/th>\n      <th>HC<\/th>\n      <th>QF<\/th>\n      <th>Selecao<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[0,2,3,4]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]

--

.pull-right-10[
.pull-top[
.font80[
**.blue[Agrupando e aplicando múltiplas funções...]**
&lt;br&gt;

.green[**Média e desvio padrão por grupo**] - Múltiplas variáveis 


```r
data %&gt;%
  group_by(Nome_Especie) %&gt;%
  summarise(across(.cols = c(HC, CAP),
                   .fns = list(media=mean, desv=sd),
                   na.rm = TRUE,
                   .names = "{.col}.{.fn}"
                   ),
            n = n()
            )
```



<div id="htmlwidget-2d4a8042d7ee23274022" style="width:180px;height:auto;" class="datatables html-widget "></div>
<script type="application/json" data-for="htmlwidget-2d4a8042d7ee23274022">{"x":{"filter":"none","vertical":false,"caption":"<caption><\/caption>","editable":{"target":"cell","disable":{"columns":null},"numeric":[1,2,3,4,5],"date":[]},"data":[["Acapu","Angelim vermelho","Maparajuba","Tauari"],[11.66666666666667,16,16.33333333333333,17],[1.527525231651947,2.645751311064591,2.081665999466133,1],[173.6666666666667,476.6666666666667,190.6666666666667,333.6666666666667],[14.97776129244065,260.8320021265284,25.32455988429677,234.0092590760745],[3,3,3,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Nome_Especie<\/th>\n      <th>HC.media<\/th>\n      <th>HC.desv<\/th>\n      <th>CAP.media<\/th>\n      <th>CAP.desv<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"dom":"t","autoWidth":false,"initComplete":"function(settings, json) {\n$(this.api().table().container()).css({'font-size': '9pt'});\n}","columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]}],"order":[],"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
]
]
]

&lt;!--Slide XX --&gt;
---
layout: false
class: inverse, top, right
background-image: url(fig/slide-title/end.png)
background-size: cover
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="assets/remark-zoom.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"highlightLanguage": ["r", "css", "yaml"],
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
